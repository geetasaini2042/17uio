<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Push Notification Demo</title>
  <!-- noti.js include -->
  <script src="https://assets.edumate.life/Script/notification/noti.js"></script>
</head>
<body>
  <h1>Push Notification Demo</h1>
  <button onclick="subscribeUser()">Subscribe</button>
  <pre id="log"></pre>

  <script>
    function log(msg) {
      document.getElementById("log").textContent += msg + "\n";
    }

    async function subscribeUser() {
      log("Subscribing user...");
      try {
        const permission = await Notification.requestPermission();
        log("Permission: " + permission);

        if (permission !== "granted") {
          log("❌ Permission denied");
          return;
        }

        log("✅ Permission granted. Subscription handled automatically by noti.js.");
      } catch (e) {
        log("❌ Error: " + e);
      }
    }
  </script>
</body>
</html>
